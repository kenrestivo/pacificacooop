report notes
$Id$


ugly big huge reference problem
	looks like the page that gets sent into the context is DIFFERENT
		from the one that is in the dispatcher. this is deadly
		make sure i understand exactly what is the behaviour
			i.e. i can put things into dispatcher.
				how do they get disconnected?
		then go trace it through


make attendance test use wholephptal model now!7
	i think the secret is to change my brain. 
	my view/add/confirmdelete/delete/etc code should NOT INCLUDE ANY HTML
	 none whatsoever


PHPTAL nag reports
	which?
		sf nag report
			might be easiest to start with this!!!!
        	show nags only by due dates passed!
        		or, will my above alertstatus do it?
            use alerts instead of logic inside of nagreport??
			nice, to get a summary of all alerts for a family!
        		yank that silly conditional at the top of the nagreport!
			move calcs into object
	add a 'send reminder' button, to send alerts
     	parent ed nag (best choice, start from scratch)
			families, and all that they owe
				total hours
		also maybe that parent ed entry too
			meeting, families, hours... though that's really a form
	enhancement nag
	solicitation summary
	springfest totals (carriereport)
	an expanded territory report maybe?
	shirley's summary
		first, all enrolled families (like in sandyreport?)
		all enrollment totals (days)
			by family and kid
	make both reports group view only? 



coop_sendto
	move to dbhost
	need to be global ebcause it's referenced in session-init 
	but i have to move it into cooppage somewhere-- setting


phptal stuff
	could do, in each template
		usemacro top
		usemacro head
			do stuff
		usemacro foot
	or, 
		use-macro page-shell
			fill-slot centerstuff
			nice! you can fill slots conditionally!


use templates instead of my hacked-together nonsense
	how to SCRAM if no login?
		have to scram the template AND the actual page-generating code, both
		a center div which scrams if no auth! duh. that's easy
			a conditaional fill-slot???!
				no login, no SLOT

	get details working
		the problem is the STACK. it needs to push
			and it needs to know how to get back from there


	settings
		cache dir? nocache? repository?
		xhtml/xml mode?



create a subclass of dispatcher, or a new dispatcher 
	this will be a very MVC, rails-ish thing, i expect

margolisreport: see parentedattentance.txt

report arch

report generic
	maybe even for reports too!!!! so they are accessible
	what scares me is handlestack. if no table, what do i do?


birthdays report
	for this and next month, am/pm
	where to put it? students?


create a coopreport class, stick getreportperms into it
	make it a paralell of coopobject, probably not inheriting from it
	genericise some of the reports

	others?
		what do i do about reports!?
		table can have a view, but also some number of reports.
		HEY! how about one report for each realm!
		pick a generic report file, somewhere store all the reports!
			there must be *some* way of registering them.
			fuck it, stick a struct in a file and be done with it
			that's for *storing* the new ones.

finally make an iterator for coopview
		which uses view's toarray

??? PHP
parent ed attendance report that makes sense
	using adddefaultfamilyperms, as a model




baby report: how many babies per workday and epod day


??? PHP
	look at the sandyreport IT IS BORKEN
	the fucking linkconstraints... they're getting called when i don't want!
		how to override them?
	redo possibly with phptal
	
kudos system
	put the sandy report into that realm


test the enhancement summary!
	and thorough test on hours. that'll be the next bit of entry
	the show all thing is fubared?
	also, the chooseschoolyear can crash Enrollment.php
		blank start date for familyid 10 (2004-2005)
	maybe attach report to a table? so it's table/report?



report ideas
	add the reports to the object?
		i.e. some number of report_foo callbacks
		add a 'table' to reports? so reportname, table?
		how to dispatch? report state!
		how to stack pop/push?
			a report state (as opposed to view!)
			AND THE NAME OF THE REPORT!
	my current page-based thingus (for now)?
		perms as they are, basically	
		how to dispatch?
		how to stack pop/push?
			if there is a report block?
    stack needs to handle reports
    	things like chosenschoolyear and show/hide all need to be in last
    		add url to the 'last' glob?
    		or, in a subthing. searchsettings?
    cache chosen things in reports
      	search/sort
      		fall/spring, schoolyear, showall, in report
      	report varliable?
      		if blank, use 'view',otherwise a custom 



fix enhancement summary report to allow multiyear
	the date is broken in enhancement.php, 'bad date


list of families, and how many names have been entered so far
	um, by certain dates?
	only the delinquent ones?
	and, with email and phone and am/pm (heh) for the springfest cops to use

total dump of families and names
	incl. family name (and id?) and am/pm
	in excel format, for carol eggimann



